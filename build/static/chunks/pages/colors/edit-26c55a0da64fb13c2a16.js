_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[34],{"7V5f":function(t,e,n){"use strict";n.r(e);var r=n("1OyB"),o=n("vuIU"),a=n("JX7q"),c=n("Ji7U"),i=n("md7G"),u=n("foSv"),l=(n("8Kt/"),n("YFqc")),s=n.n(l),f=n("q1tI"),d=n.n(f),p=n("hJmc"),v=n("yupq"),h=n("vbcS"),b=n("2/Fh"),m=n("F1wk"),y=(n("3Mv1"),n("nOHt")),w=n.n(y),O=n("YVoG"),g=d.a.createElement;function j(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(u.a)(t);if(e){var o=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(i.a)(this,n)}}var C=function(t){Object(c.a)(n,t);var e=j(n);function n(t){var o;Object(r.a)(this,n);var c=(o=e.call(this,t)).props.router.query.colorId;return o.state={colorId:c,color:null},o.fariane=[{title:"Acceuil",path:"/"},{title:"Couleurs",path:"/colors/"}],o.onDelete=o.onDelete.bind(Object(a.a)(o)),o}return Object(o.a)(n,[{key:"onDelete",value:function(){window.flash("La couleur a bien \xe9t\xe9 supprim\xe9e.","success"),this.props.history.push("/colors/")}},{key:"header",value:function(){var t=this.state.colorId;return g(d.a.Fragment,null,g("h3",{className:"card-title"},"Couleurs #"+t),g("div",{className:"card-tools"},g(s.a,{href:"/colors/edit/"+t},g("a",{className:"btn btn-success btn-sm","data-toggle":"tooltip",title:"","data-original-title":"Nouvelle"},g("i",{className:"fa fa-pen-alt"})," Modifier"))))}},{key:"render",value:function(){var t=this,e=this.state,n=e.colorId,r=e.color;return r&&delete r.id,g(p.a,null,g(m.a,{title:"Couleurs",fariane:this.fariane},g(h.b,{query:v.b,variables:{colorId:n},_pollInterval:3e3},(function(e){var o=e.loading,a=e.error,c=e.data;return o?g("div",null,"Chargement en cours ..."):a?(console.log(a),g("div",null,"Error")):(console.log(c),c.color?(null==t.state.color&&(delete c.color.__typename,r=t.state.color=c.color),g(h.a,{mutation:v.d,variables:{id:n,data:t.state.color}},(function(e){return g(O.a,{color:r,onSubmit:function(t){t.preventDefault(),e().then((function(t){alert("La couleur a bien \xe9t\xe9 modifi\xe9.","success"),w.a.push("/colors/view?colorId="+t.data.updateColor.id)}))},onChange:function(e){return t.setState({color:e})}})}))):"Color not found")}))))}}]),n}(d.a.Component);e.default=Object(b.a)(Object(y.withRouter)(C))},Ksx3:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/colors/edit",function(){return n("7V5f")}])},YVoG:function(t,e,n){"use strict";var r=n("1OyB"),o=n("vuIU"),a=n("Ji7U"),c=n("md7G"),i=n("foSv"),u=n("q1tI"),l=n.n(u),s=n("QojX"),f=n("cWnB"),d=l.a.createElement;function p(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(i.a)(t);if(e){var o=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var v=function(t){Object(a.a)(n,t);var e=p(n);function n(t){var o;return Object(r.a)(this,n),(o=e.call(this,t)).state={color:{name:""}},o}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.color;t&&(this.state.color=t),this.onChange()}},{key:"setName",value:function(t){this.state.color.name=t,this.setState({color:this.state.color}),this.onChange()}},{key:"onChange",value:function(){this.props.onChange&&this.props.onChange(this.state.color)}},{key:"render",value:function(){var t=this,e=this.state,n=e.color;e.show_password;return d(s.a,{onSubmit:function(e){t.props.onSubmit&&t.props.onSubmit(e)}},d(s.a.Group,{controlId:"formBasicEmail"},d(s.a.Label,null,"Nom:"),d(s.a.Control,{value:n.name,type:"text",onChange:function(e){return t.setName(e.target.value)},placeholder:"Nom de la marque"})),d("div",{className:"text-right",style:{margin:10}},d(f.a,{variant:"primary",type:"submit"},"Enregistrer")))}}]),n}(l.a.Component);e.a=v},cWnB:function(t,e,n){"use strict";var r=n("wx14"),o=n("zLVn"),a=n("TSYQ"),c=n.n(a),i=n("q1tI"),u=n.n(i),l=n("vUet"),s=n("dbZe"),f=u.a.forwardRef((function(t,e){var n=t.bsPrefix,a=t.variant,i=t.size,f=t.active,d=t.className,p=t.block,v=t.type,h=t.as,b=Object(o.a)(t,["bsPrefix","variant","size","active","className","block","type","as"]),m=Object(l.a)(n,"btn"),y=c()(d,m,f&&"active",m+"-"+a,p&&m+"-block",i&&m+"-"+i);if(b.href)return u.a.createElement(s.a,Object(r.a)({},b,{as:h,ref:e,className:c()(y,b.disabled&&"disabled")}));e&&(b.ref=e),v?b.type=v:h||(b.type="button");var w=h||"button";return u.a.createElement(w,Object(r.a)({},b,{className:y}))}));f.displayName="Button",f.defaultProps={variant:"primary",active:!1,disabled:!1},e.a=f},dbZe:function(t,e,n){"use strict";var r=n("wx14"),o=n("zLVn"),a=n("q1tI"),c=n.n(a);var i=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return null!=t})).reduce((function(t,e){if("function"!==typeof e)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===t?e:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t.apply(this,r),e.apply(this,r)}}),null)};function u(t){return!t||"#"===t.trim()}var l=c.a.forwardRef((function(t,e){var n=t.as,a=void 0===n?"a":n,l=t.disabled,s=t.onKeyDown,f=Object(o.a)(t,["as","disabled","onKeyDown"]),d=function(t){var e=f.href,n=f.onClick;(l||u(e))&&t.preventDefault(),l?t.stopPropagation():n&&n(t)};return u(f.href)&&(f.role=f.role||"button",f.href=f.href||"#"),l&&(f.tabIndex=-1,f["aria-disabled"]=!0),c.a.createElement(a,Object(r.a)({ref:e},f,{onClick:d,onKeyDown:i((function(t){" "===t.key&&(t.preventDefault(),d(t))}),s)}))}));l.displayName="SafeAnchor";e.a=l},yupq:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return f})),n.d(e,"d",(function(){return d})),n.d(e,"a",(function(){return p}));var r=n("h4VS"),o=n("lTCR"),a=n.n(o);function c(){var t=Object(r.a)(["\n  mutation update_color($data:ColorInput!)  {\n    createColor(data:$data){\n        id\n    }\n  }\n\n"]);return c=function(){return t},t}function i(){var t=Object(r.a)(["\n  mutation update_color($id: ID!, $data:ColorInput!)  {\n    updateColor(id:$id,data:$data){\n        id\n        name\n    }\n  }\n\n"]);return i=function(){return t},t}function u(){var t=Object(r.a)(["\nquery get_color($colorId:ID!){\n  color(id:$colorId){\n    id\n    name\n  }\n}\n"]);return u=function(){return t},t}function l(){var t=Object(r.a)(["\n{\n    colors {\n    edges{\n        node{\n            id\n            name\n        }\n    }\n  }\n}\n"]);return l=function(){return t},t}var s=a()(l()),f=a()(u()),d=a()(i()),p=a()(c())}},[["Ksx3",0,2,1,3,4,5,6]]]);
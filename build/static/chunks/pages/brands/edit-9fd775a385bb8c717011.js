_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[23],{LAox:function(t,n,e){"use strict";e.r(n);var a=e("1OyB"),r=e("vuIU"),i=e("JX7q"),o=e("Ji7U"),u=e("md7G"),c=e("foSv"),s=(e("8Kt/"),e("YFqc")),d=e.n(s),l=e("q1tI"),f=e.n(l),b=e("hJmc"),p=e("lF6m"),v=e("vbcS"),h=e("2/Fh"),m=e("F1wk"),y=(e("3Mv1"),e("nOHt")),w=e.n(y),g=e("QojX"),O=e("cWnB"),j=f.a.createElement;function N(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,a=Object(c.a)(t);if(n){var r=Object(c.a)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return Object(u.a)(this,e)}}var I=function(t){Object(o.a)(e,t);var n=N(e);function e(t){var r;return Object(a.a)(this,e),(r=n.call(this,t)).state={brand:{name:""}},r}return Object(r.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.brand;t&&(this.state.brand=t),this.onChange()}},{key:"setName",value:function(t){this.state.brand.name=t,this.setState({brand:this.state.brand}),this.onChange()}},{key:"onChange",value:function(){this.props.onChange&&this.props.onChange(this.state.brand)}},{key:"render",value:function(){var t=this,n=this.state,e=n.brand;n.show_password;return j(g.a,{onSubmit:function(n){t.props.onSubmit&&t.props.onSubmit(n)}},j(g.a.Group,{controlId:"formBasicEmail"},j(g.a.Label,null,"Nom:"),j(g.a.Control,{value:e.name,type:"text",onChange:function(n){return t.setName(n.target.value)},placeholder:"Nom de la marque"})),j("div",{className:"text-right",style:{margin:10}},j(O.a,{variant:"primary",type:"submit"},"Enregistrer")))}}]),e}(f.a.Component),_=f.a.createElement;function k(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,a=Object(c.a)(t);if(n){var r=Object(c.a)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return Object(u.a)(this,e)}}var D=function(t){Object(o.a)(e,t);var n=k(e);function e(t){var r;Object(a.a)(this,e);var o=(r=n.call(this,t)).props.router.query.brandId;return r.state={brandId:o,brand:null},r.fariane=[{title:"Acceuil",path:"/"},{title:"Brands",path:"/brands/"}],r.onDelete=r.onDelete.bind(Object(i.a)(r)),r}return Object(r.a)(e,[{key:"onDelete",value:function(){window.flash("L'utilisateur a bien \xe9t\xe9 supprim\xe9e.","success"),this.props.history.push("/brands/")}},{key:"header",value:function(){var t=this.state.brandId;return _(f.a.Fragment,null,_("h3",{className:"card-title"},"Marques #"+t),_("div",{className:"card-tools"},_(d.a,{href:"/brands/edit/"+t},_("a",{className:"btn btn-success btn-sm","data-toggle":"tooltip",title:"","data-original-title":"Nouvelle"},_("i",{className:"fa fa-pen-alt"})," Modifier"))))}},{key:"render",value:function(){var t=this,n=this.state,e=n.brandId,a=n.brand;return a&&delete a.id,_(b.a,null,_(m.a,{title:"Marques",fariane:this.fariane},_(v.b,{query:p.a,variables:{brandId:e},_pollInterval:3e3},(function(n){var r=n.loading,i=n.error,o=n.data;return r?_("div",null,"Chargement en cours ..."):i?(console.log(i),_("div",null,"Error")):(console.log(o),o.brand?(null==t.state.brand&&(delete o.brand.__typename,a=t.state.brand=o.brand),_(v.a,{mutation:p.c,variables:{id:e,data:t.state.brand}},(function(n){return _(I,{brand:a,onSubmit:function(t){t.preventDefault(),n().then((function(t){alert("La marque a bien \xe9t\xe9 modifi\xe9.","success"),w.a.push("/brand/view?brandId="+t.data.updateBrand.id)}))},onChange:function(n){return t.setState({brand:n})}})}))):"Brand not found")}))))}}]),e}(f.a.Component);n.default=Object(h.a)(Object(y.withRouter)(D))},cWnB:function(t,n,e){"use strict";var a=e("wx14"),r=e("zLVn"),i=e("TSYQ"),o=e.n(i),u=e("q1tI"),c=e.n(u),s=e("vUet"),d=e("dbZe"),l=c.a.forwardRef((function(t,n){var e=t.bsPrefix,i=t.variant,u=t.size,l=t.active,f=t.className,b=t.block,p=t.type,v=t.as,h=Object(r.a)(t,["bsPrefix","variant","size","active","className","block","type","as"]),m=Object(s.a)(e,"btn"),y=o()(f,m,l&&"active",m+"-"+i,b&&m+"-block",u&&m+"-"+u);if(h.href)return c.a.createElement(d.a,Object(a.a)({},h,{as:v,ref:n,className:o()(y,h.disabled&&"disabled")}));n&&(h.ref=n),p?h.type=p:v||(h.type="button");var w=v||"button";return c.a.createElement(w,Object(a.a)({},h,{className:y}))}));l.displayName="Button",l.defaultProps={variant:"primary",active:!1,disabled:!1},n.a=l},dbZe:function(t,n,e){"use strict";var a=e("wx14"),r=e("zLVn"),i=e("q1tI"),o=e.n(i);var u=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.filter((function(t){return null!=t})).reduce((function(t,n){if("function"!==typeof n)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===t?n:function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];t.apply(this,a),n.apply(this,a)}}),null)};function c(t){return!t||"#"===t.trim()}var s=o.a.forwardRef((function(t,n){var e=t.as,i=void 0===e?"a":e,s=t.disabled,d=t.onKeyDown,l=Object(r.a)(t,["as","disabled","onKeyDown"]),f=function(t){var n=l.href,e=l.onClick;(s||c(n))&&t.preventDefault(),s?t.stopPropagation():e&&e(t)};return c(l.href)&&(l.role=l.role||"button",l.href=l.href||"#"),s&&(l.tabIndex=-1,l["aria-disabled"]=!0),o.a.createElement(i,Object(a.a)({ref:n},l,{onClick:f,onKeyDown:u((function(t){" "===t.key&&(t.preventDefault(),f(t))}),d)}))}));s.displayName="SafeAnchor";n.a=s},lF6m:function(t,n,e){"use strict";e.d(n,"b",(function(){return d})),e.d(n,"a",(function(){return l})),e.d(n,"c",(function(){return f}));var a=e("h4VS"),r=e("lTCR"),i=e.n(r);function o(){var t=Object(a.a)(["\n  mutation update_brand($data:BrandInput!)  {\n    createBrand(data:$data){\n        id\n    }\n  }\n\n"]);return o=function(){return t},t}function u(){var t=Object(a.a)(["\n  mutation update_brand($id: ID!, $data:BrandInput!)  {\n    updateBrand(id:$id,data:$data){\n        id\n        name\n    }\n  }\n\n"]);return u=function(){return t},t}function c(){var t=Object(a.a)(["\nquery get_brand($brandId:ID!){\n  brand(id:$brandId){\n    id\n    name\n  }\n}\n"]);return c=function(){return t},t}function s(){var t=Object(a.a)(["\n{\n    brands {\n    edges{\n        node{\n            id\n            name\n        }\n    }\n  }\n}\n"]);return s=function(){return t},t}var d=i()(s()),l=i()(c()),f=i()(u());i()(o())},pU0n:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/brands/edit",function(){return e("LAox")}])}},[["pU0n",0,2,1,3,4,5,6]]]);
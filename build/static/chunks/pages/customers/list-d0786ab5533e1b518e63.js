_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[39],{MBJH:function(e,n,t){"use strict";var r=t("wx14"),a=t("zLVn"),c=t("TSYQ"),s=t.n(c),u=t("q1tI"),i=t.n(u),o=t("vUet"),l=i.a.forwardRef((function(e,n){var t=e.bsPrefix,c=e.className,u=e.striped,l=e.bordered,d=e.borderless,m=e.hover,f=e.size,p=e.variant,b=e.responsive,h=Object(a.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),v=Object(o.a)(t,"table"),y=s()(c,v,p&&v+"-"+p,f&&v+"-"+f,u&&v+"-striped",l&&v+"-bordered",d&&v+"-borderless",m&&v+"-hover"),_=i.a.createElement("table",Object(r.a)({},h,{className:y,ref:n}));if(b){var O=v+"-responsive";return"string"===typeof b&&(O=O+"-"+b),i.a.createElement("div",{className:O},_)}return _}));n.a=l},VusZ:function(e,n,t){"use strict";t.r(n);var r=t("1OyB"),a=t("vuIU"),c=t("JX7q"),s=t("Ji7U"),u=t("md7G"),i=t("foSv"),o=(t("8Kt/"),t("YFqc")),l=t.n(o),d=t("q1tI"),m=t.n(d),f=t("hJmc"),p=t("xmSt"),b=t("vbcS"),h=t("2/Fh"),v=t("MBJH"),y=t("F1wk"),_=t("3Mv1"),O=(t("v8KW"),t("nOHt")),j=t.n(O),g=m.a.createElement;function I(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=Object(i.a)(e);if(n){var a=Object(i.a)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return Object(u.a)(this,t)}}var N=function(e){Object(s.a)(t,e);var n=I(t);function t(e){var a;Object(r.a)(this,t);var s=(a=n.call(this,e)).props.router.query.customerId;return a.state={customerId:s,customer:null},a.fariane=[{title:"Acceuil",path:"/"},{title:"Clients",path:"/customers/"}],a.onDelete=a.onDelete.bind(Object(c.a)(a)),a}return Object(a.a)(t,[{key:"onDelete",value:function(){window.flash("Le client a bien \xe9t\xe9 supprim\xe9e.","success"),this.props.history.push("/customers/")}},{key:"render",value:function(){var e=this.props.customerId;return g(b.a,{mutation:p.b,variables:{id:e}},(function(e){return g("a",{style:{margin:3},onClick:function(n){alert("hello"),n.preventDefault(),e().then((function(e){1==e.data.deleteCustomer.statut_code&&(alert("Le client a bien \xe9t\xe9 supprim\xe9.","success"),j.a.push("/customers/list"))}))},className:"btn btn-danger btn-sm"},g("i",{className:"fa fa-trash",style:{color:"white"}}))}))}}]),t}(m.a.Component),w=Object(h.a)(Object(O.withRouter)(N)),D=m.a.createElement;function C(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=Object(i.a)(e);if(n){var a=Object(i.a)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return Object(u.a)(this,t)}}var k=function(e){Object(s.a)(t,e);var n=C(t);function t(e){var a;return Object(r.a)(this,t),(a=n.call(this,e)).fariane=[{title:"Acceuil",path:"/"},{title:"Clients",path:"#"}],a.onDelete=a.onDelete.bind(Object(c.a)(a)),a}return Object(a.a)(t,[{key:"renderHeader",value:function(){}},{key:"header",value:function(){return console.log(this.props.customer),D(m.a.Fragment,null,D("h3",{className:"card-title"},"Marques"),D("div",{className:"card-tools"},D(l.a,{href:"/customers/add"},D("a",{className:"btn btn-success btn-xs"},D("i",{className:"fa fa-plus"})," Nouvelle marque"))))}},{key:"onDelete",value:function(){window.flash("Le client a bien \xe9t\xe9 supprim\xe9.","success")}},{key:"render",value:function(){return D(f.a,null,D(y.a,{title:"Clients",fariane:this.fariane},D(_.a,{header:this.header()},D(b.b,{query:p.e,pollInterval:3e3},(function(e){var n=e.loading,t=e.error,r=e.data;return n?D("div",null,"Chargement en cours ..."):t?(console.log(t),D("div",null,"Error")):D(v.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},D("thead",null,D("tr",null,D("th",null,"#ID"),D("th",null,"Nom complet"),D("th",null,"CNI"),D("th",null,"Permit de conduite"),D("th",null,"Adresse"),D("th",null,"T\xe9l\xe9phone"),D("th",null,"E-mail"),D("th",null,"Actions"))),D("tbody",null,r.customers.edges.map((function(e,n){var t=e.node;return D("tr",{key:t.id},D("td",null,t.id),D("td",null,t.gender," ",t.firstname," ",t.lastname),D("td",null,t.cni),D("td",null,t.driver_license),D("td",null,t.address),D("td",null,t.phone),D("td",null,t.email),D("td",null,D(l.a,{href:"/customers/view?customerId="+t.id},D("a",{style:{margin:3},className:"btn btn-info btn-sm"},D("i",{className:"fa fa-eye"}))),D(l.a,{href:"/customers/edit?customerId="+t.id},D("a",{style:{margin:3},className:"btn btn-success btn-sm"},D("i",{className:"fa fa-pen-alt"}))),D(w,{customerId:t.id})))}))))})))))}}]),t}(m.a.Component);n.default=Object(h.a)(k,!0)},v8KW:function(e,n,t){"use strict";t("wx14"),t("o0o1"),t("rePB"),t("HaE+"),t("1OyB"),t("vuIU"),t("Ji7U"),t("md7G"),t("foSv");var r=t("q1tI"),a=t.n(r);t("nOHt"),t("E/DK"),a.a.createElement},xmSt:function(e,n,t){"use strict";t.d(n,"e",(function(){return m})),t.d(n,"c",(function(){return f})),t.d(n,"d",(function(){return p})),t.d(n,"f",(function(){return b})),t.d(n,"a",(function(){return h})),t.d(n,"b",(function(){return v}));var r=t("h4VS"),a=t("lTCR"),c=t.n(a);function s(){var e=Object(r.a)(["\n  mutation delete_customer($id: ID!)  {\n    deleteCustomer(id:$id){\n        statut_code\n        message\n    }\n  }\n\n"]);return s=function(){return e},e}function u(){var e=Object(r.a)(["\n  mutation update_customer($data:CustomerInput!)  {\n    createCustomer(data:$data){\n        id\n    }\n  }\n\n"]);return u=function(){return e},e}function i(){var e=Object(r.a)(["\n  mutation update_customer($id: ID!, $data:CustomerInput!)  {\n    updateCustomer(id:$id,data:$data){\n        id\n        firstname\n        lastname\n        birthday\n        gender\n        cni\n        type\n        driver_license\n        city\n        address\n        email\n        phone\n        company_name\n    }\n  }\n\n"]);return i=function(){return e},e}function o(){var e=Object(r.a)(["\nquery get_customer_to_update($customerId:ID!){\n  customer(id:$customerId){\n    id\n    firstname\n    lastname\n    birthday\n    gender\n    cni\n    type\n    driver_license\n    city\n    address\n    email\n    phone\n    company_name\n  }\n}\n"]);return o=function(){return e},e}function l(){var e=Object(r.a)(["\nquery get_customer($customerId:ID!){\n  customer(id:$customerId){\n    id\n    firstname\n    lastname\n    birthday\n    gender\n    cni\n    type\n    driver_license\n    city\n    address\n    email\n    phone\n    company_name\n    createdAt\n    updatedAt\n    rentals{\n      id\n      date_begin\n      date_end\n      car{\n        id\n        plate_number\n      }\n    }\n    bookings{\n      id\n      date_begin\n      date_end\n      montant_avance\n      car{\n        id\n        plate_number\n      }\n    }\n  }\n}\n"]);return l=function(){return e},e}function d(){var e=Object(r.a)(["\n{\n    customers {\n    edges{\n        node{\n            id\n            firstname\n            lastname\n            birthday\n            gender\n            cni\n            type\n            driver_license\n            city\n            address\n            email\n            phone\n            company_name\n        }\n    }\n  }\n}\n"]);return d=function(){return e},e}var m=c()(d()),f=c()(l()),p=c()(o()),b=c()(i()),h=c()(u()),v=c()(s())},yk1B:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customers/list",function(){return t("VusZ")}])}},[["yk1B",0,2,1,3,4,5]]]);
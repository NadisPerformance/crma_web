{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{MBJH:function(n,e,t){\"use strict\";var a=t(\"wx14\"),r=t(\"zLVn\"),o=t(\"TSYQ\"),i=t.n(o),c=t(\"q1tI\"),u=t.n(c),s=t(\"vUet\"),l=u.a.forwardRef((function(n,e){var t=n.bsPrefix,o=n.className,c=n.striped,l=n.bordered,d=n.borderless,f=n.hover,b=n.size,m=n.variant,v=n.responsive,p=Object(r.a)(n,[\"bsPrefix\",\"className\",\"striped\",\"bordered\",\"borderless\",\"hover\",\"size\",\"variant\",\"responsive\"]),h=Object(s.a)(t,\"table\"),g=i()(o,h,m&&h+\"-\"+m,b&&h+\"-\"+b,c&&h+\"-striped\",l&&h+\"-bordered\",d&&h+\"-borderless\",f&&h+\"-hover\"),k=u.a.createElement(\"table\",Object(a.a)({},p,{className:g,ref:e}));if(v){var y=h+\"-responsive\";return\"string\"===typeof v&&(y=y+\"-\"+v),u.a.createElement(\"div\",{className:y},k)}return k}));e.a=l},\"O+Uc\":function(n,e,t){\"use strict\";t.d(e,\"d\",(function(){return d})),t.d(e,\"c\",(function(){return f})),t.d(e,\"e\",(function(){return b})),t.d(e,\"a\",(function(){return m})),t.d(e,\"b\",(function(){return v}));var a=t(\"h4VS\"),r=t(\"lTCR\"),o=t.n(r);function i(){var n=Object(a.a)([\"\\n  mutation delete_booking($id: ID!)  {\\n    deleteBooking(id:$id){\\n        statut_code\\n        message\\n    }\\n  }\\n\\n\"]);return i=function(){return n},n}function c(){var n=Object(a.a)([\"\\n  mutation update_booking($data:BookingInput!)  {\\n    createBooking(data:$data){\\n        id\\n    }\\n  }\\n\\n\"]);return c=function(){return n},n}function u(){var n=Object(a.a)([\"\\n  mutation update_booking($id: ID!, $data:BookingInput!)  {\\n    updateBooking(id:$id,data:$data){\\n      id\\n      carId\\n      customerId\\n      date_begin\\n      date_end\\n      montant_avance\\n    }\\n  }\\n\\n\"]);return u=function(){return n},n}function s(){var n=Object(a.a)([\"\\nquery booking($bookingId:ID!){\\n  booking(id:$bookingId){\\n    id\\n\\n    carId\\n    customerId\\n\\n    date_begin\\n    date_end\\n    montant_avance\\n    customer{\\n      id\\n      firstname\\n      lastname\\n      gender\\n      cni\\n      phone\\n      email\\n      address\\n      city\\n    }\\n    car{\\n      id\\n      plate_number\\n      model\\n      model_date\\n      price\\n      chassis_number\\n      category{\\n        id\\n        title\\n      }\\n      brand{\\n        id\\n        name\\n      }\\n      color{\\n        id\\n        name\\n      }\\n    }\\n  }\\n}\\n\"]);return s=function(){return n},n}function l(){var n=Object(a.a)([\"\\n{\\n  bookings {\\n    edges{\\n        node{\\n            id\\n            carId\\n            customerId\\n            date_begin\\n            date_end\\n            montant_avance\\n            customer{\\n              id\\n              firstname\\n              lastname\\n              gender\\n            }\\n            car{\\n              id\\n              plate_number\\n            }\\n\\n        }\\n    }\\n  }\\n}\\n\"]);return l=function(){return n},n}var d=o()(l()),f=o()(s()),b=o()(u()),m=o()(c()),v=o()(i())},eiOE:function(n,e,t){\"use strict\";t.r(e);var a=t(\"1OyB\"),r=t(\"vuIU\"),o=t(\"JX7q\"),i=t(\"Ji7U\"),c=t(\"md7G\"),u=t(\"foSv\"),s=(t(\"8Kt/\"),t(\"YFqc\")),l=t.n(s),d=t(\"q1tI\"),f=t.n(d),b=t(\"hJmc\"),m=t(\"O+Uc\"),v=t(\"vbcS\"),p=t(\"2/Fh\"),h=t(\"MBJH\"),g=t(\"F1wk\"),k=t(\"3Mv1\"),y=(t(\"v8KW\"),t(\"y/oY\")),O=t(\"wd/R\"),_=t.n(O),I=f.a.createElement;function j(n){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,a=Object(u.a)(n);if(e){var r=Object(u.a)(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return Object(c.a)(this,t)}}var w=function(n){Object(i.a)(t,n);var e=j(t);function t(n){var r;return Object(a.a)(this,t),(r=e.call(this,n)).fariane=[{title:\"Acceuil\",path:\"/\"},{title:\"R\\xe9servations\",path:\"/booking/\"}],r.onDelete=r.onDelete.bind(Object(o.a)(r)),r}return Object(r.a)(t,[{key:\"renderHeader\",value:function(){}},{key:\"header\",value:function(){return console.log(this.props.booking),I(f.a.Fragment,null,I(\"h3\",{className:\"card-title\"},\"Locations\"),I(\"div\",{className:\"card-tools\"},I(l.a,{href:\"/bookings/add\"},I(\"a\",{className:\"btn btn-success btn-xs\"},I(\"i\",{className:\"fa fa-plus\"}),\" Nouvelle location\"))))}},{key:\"onDelete\",value:function(){window.flash(\"La location a bien \\xe9t\\xe9 supprim\\xe9e.\",\"success\")}},{key:\"render\",value:function(){return I(b.a,null,I(g.a,{title:\"R\\xe9servations\",fariane:this.fariane},I(k.a,{header:this.header()},I(v.b,{query:m.d,pollInterval:3e3},(function(n){var e=n.loading,t=n.error,a=n.data;return e?I(\"div\",null,\"Chargement en cours ...\"):t?(console.log(t),I(\"div\",null,\"Error\")):I(h.a,{striped:!0,bordered:!0,hover:!0,size:\"sm\"},I(\"thead\",null,I(\"tr\",null,I(\"th\",null,\"#ID\"),I(\"th\",null,\"Date de d\\xe9but\"),I(\"th\",null,\"Date de fin\"),I(\"th\",null,\"Client\"),I(\"th\",null,\"V\\xe9hicule\"),I(\"th\",null,\"Actions\"))),I(\"tbody\",null,a.bookings.edges.map((function(n,e){var t=n.node;return I(\"tr\",{key:t.id},I(\"td\",null,t.id),I(\"td\",null,_()(t.date_begin).format(\"DD/MM/YYYY\")),I(\"td\",null,_()(t.date_end).format(\"DD/MM/YYYY\"),\" \"),I(\"td\",null,\" \",t.customer.gender,\" \",t.customer.lastname,\" \",t.customer.firstname),I(\"td\",null,t.car.plate_number),I(\"td\",null,I(l.a,{href:\"/bookings/view?bookingId=\"+t.id},I(\"a\",{style:{margin:3},className:\"btn btn-info btn-sm\"},I(\"i\",{className:\"fa fa-eye\"}))),I(l.a,{href:\"/bookings/edit?bookingId=\"+t.id},I(\"a\",{style:{margin:3},className:\"btn btn-success btn-sm\"},I(\"i\",{className:\"fa fa-pen-alt\"}))),I(y.a,{bookingId:t.id})))}))))})))))}}]),t}(f.a.Component);e.default=Object(p.a)(w,!0)},norM:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/bookings/list\",function(){return t(\"eiOE\")}])},v8KW:function(n,e,t){\"use strict\";t(\"wx14\"),t(\"o0o1\"),t(\"rePB\"),t(\"HaE+\"),t(\"1OyB\"),t(\"vuIU\"),t(\"Ji7U\"),t(\"md7G\"),t(\"foSv\");var a=t(\"q1tI\"),r=t.n(a);t(\"nOHt\"),t(\"E/DK\"),r.a.createElement},\"y/oY\":function(n,e,t){\"use strict\";var a=t(\"1OyB\"),r=t(\"vuIU\"),o=t(\"JX7q\"),i=t(\"Ji7U\"),c=t(\"md7G\"),u=t(\"foSv\"),s=t(\"q1tI\"),l=t.n(s),d=t(\"O+Uc\"),f=t(\"vbcS\"),b=t(\"2/Fh\"),m=t(\"nOHt\"),v=t.n(m),p=l.a.createElement;function h(n){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,a=Object(u.a)(n);if(e){var r=Object(u.a)(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return Object(c.a)(this,t)}}var g=function(n){Object(i.a)(t,n);var e=h(t);function t(n){var r;Object(a.a)(this,t);var i=(r=e.call(this,n)).props.router.query.bookingId;return r.state={bookingId:i,booking:null},r.fariane=[{title:\"Acceuil\",path:\"/\"},{title:\"R\\xe9servations\",path:\"/bookings/\"}],r.onDelete=r.onDelete.bind(Object(o.a)(r)),r}return Object(r.a)(t,[{key:\"onDelete\",value:function(){window.flash(\"La r\\xe9servation a bien \\xe9t\\xe9 supprim\\xe9e.\",\"success\"),this.props.history.push(\"/bookings/list\")}},{key:\"render\",value:function(){var n=this.props.bookingId;return p(f.a,{mutation:d.b,variables:{id:n}},(function(n){return p(\"a\",{style:{margin:3},onClick:function(e){e.preventDefault(),n().then((function(n){1==n.data.deleteBooking.statut_code&&(alert(\"La r\\xe9servation a bien \\xe9t\\xe9 supprim\\xe9e.\",\"success\"),v.a.push(\"/bookings/list\"))}))},className:\"btn btn-danger btn-sm\"},p(\"i\",{className:\"fa fa-trash\",style:{color:\"white\"}}))}))}}]),t}(l.a.Component);e.a=Object(b.a)(Object(m.withRouter)(g))}},[[\"norM\",0,2,7,1,3,4,5,8]]]);","extractedComments":[]}
{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{\"/7ez\":function(n,e,t){\"use strict\";var a=t(\"1OyB\"),r=t(\"vuIU\"),c=t(\"Ji7U\"),d=t(\"md7G\"),i=t(\"foSv\"),o=t(\"q1tI\"),u=t.n(o),s=t(\"QojX\"),l=t(\"cWnB\"),f=t(\"NRhA\"),h=t.n(f),m=(t(\"5Buo\"),t(\"wd/R\")),b=t.n(m),I=t(\"wZgz\"),p=t(\"jGz1\"),v=u.a.createElement;function g(n){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,a=Object(i.a)(n);if(e){var r=Object(i.a)(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return Object(d.a)(this,t)}}var _=function(n){Object(c.a)(t,n);var e=g(t);function t(n){var r;return Object(a.a)(this,t),(r=e.call(this,n)).state={rental:{carId:0,customerId:0,second_driverId:0,date_begin:\"\",date_end:\"\"}},r}return Object(r.a)(t,[{key:\"componentDidMount\",value:function(){var n=this.props.rental;n&&(this.state.rental=n),this.onChange()}},{key:\"setCarId\",value:function(n){this.setState((function(e){return e.rental.carId=1*n,e})),this.onChange()}},{key:\"setCustomerId\",value:function(n){this.setState((function(e){return e.rental.customerId=1*n,e})),this.onChange()}},{key:\"setSecondDriverId\",value:function(n){this.setState((function(e){return e.rental.second_driverId=1*n,e})),this.onChange()}},{key:\"setDateBegin\",value:function(n){this.state.rental.date_begin=n,this.setState({rental:this.state.rental}),this.onChange()}},{key:\"setDateEnd\",value:function(n){this.state.rental.date_end=n,this.setState({rental:this.state.rental}),this.onChange()}},{key:\"onChange\",value:function(){this.props.onChange&&this.props.onChange(this.state.rental)}},{key:\"render\",value:function(){var n=this,e=this.state,t=e.rental;e.show_password;return v(s.a,{onSubmit:function(e){n.props.onSubmit&&n.props.onSubmit(e)}},v(s.a.Group,{controlId:\"formBasicEmail\"},v(s.a.Label,null,\"Client:\"),v(I.a,{selectedId:t.customerId,onChange:function(e){return n.setCustomerId(e)}})),v(s.a.Group,{controlId:\"formBasicEmail\"},v(s.a.Label,null,\"V\\xe9hicule:\"),v(p.a,{selectedId:t.carId,onChange:function(e){return n.setCarId(e)}})),v(s.a.Group,{controlId:\"formBasicEmail\"},v(s.a.Label,null,\"Deuxi\\xe9me conducteur:\"),v(I.a,{selectedId:t.second_driverId,onChange:function(e){return n.setSecondDriverId(e)}})),v(s.a.Group,{controlId:\"formBasicEmail\"},v(s.a.Label,null,\"Date de d\\xe9but:\"),v(\"br\",null),v(h.a,{selected:Date.parse(b()(t.date_begin).toDate()),onChange:function(e){return n.setDateBegin(e)},isClearable:!0,dateFormat:\"d/MM/yyyy\",placeholderText:\"Date d\\xe9but\"})),v(s.a.Group,{controlId:\"formBasicEmail\"},v(s.a.Label,null,\"Date de fin:\"),v(\"br\",null),v(h.a,{selected:Date.parse(b()(t.date_end).toDate()),onChange:function(e){return n.setDateEnd(e)},isClearable:!0,dateFormat:\"d/MM/yyyy\",placeholderText:\"Date d\\xe9but\"})),v(\"div\",{className:\"text-right\",style:{margin:10}},v(l.a,{variant:\"primary\",type:\"submit\"},\"Enregistrer\")))}}]),t}(u.a.Component);e.a=_},GaG9:function(n,e,t){\"use strict\";t.d(e,\"e\",(function(){return f})),t.d(e,\"c\",(function(){return h})),t.d(e,\"d\",(function(){return m})),t.d(e,\"f\",(function(){return b})),t.d(e,\"a\",(function(){return I})),t.d(e,\"b\",(function(){return p}));var a=t(\"h4VS\"),r=t(\"lTCR\"),c=t.n(r);function d(){var n=Object(a.a)([\"\\n  mutation delete_car($id: ID!)  {\\n    deleteCar(id:$id){\\n        statut_code\\n        message\\n    }\\n  }\\n\\n\"]);return d=function(){return n},n}function i(){var n=Object(a.a)([\"\\n  mutation update_car($data:CarInput!)  {\\n    createCar(data:$data){\\n        id\\n    }\\n  }\\n\\n\"]);return i=function(){return n},n}function o(){var n=Object(a.a)([\"\\n  mutation update_car($id: ID!, $data:CarInput!)  {\\n    updateCar(id:$id,data:$data){\\n        id\\n        plate_number\\n        brandId\\n        model\\n        model_date\\n        categoryId\\n        price\\n        colorId\\n        chassis_number\\n        statusId\\n        brand{\\n          id\\n          name\\n        }\\n        category{\\n          id\\n          title\\n        }\\n        color{\\n          id\\n          name\\n        }\\n    }\\n  }\\n\\n\"]);return o=function(){return n},n}function u(){var n=Object(a.a)([\"\\nquery get_car_to_update($carId:ID!){\\n    car(id:$carId){\\n        id\\n        plate_number\\n        brandId\\n        model\\n        model_date\\n        categoryId\\n        price\\n        colorId\\n        chassis_number\\n        statusId\\n  }\\n}\\n\"]);return u=function(){return n},n}function s(){var n=Object(a.a)([\"\\nquery get_car($carId:ID!){\\n    car(id:$carId){\\n        id\\n        plate_number\\n        brandId\\n        model\\n        model_date\\n        categoryId\\n        price\\n        colorId\\n        chassis_number\\n        statusId\\n        picture\\n        picture_url\\n        createdAt\\n        updatedAt\\n        brand{\\n          id\\n          name\\n        }\\n        category{\\n          id\\n          title\\n        }\\n        color{\\n          id\\n          name\\n        }\\n        status{\\n          id\\n          title\\n        }\\n        car_insurances{\\n          id\\n          date_begin\\n          date_end\\n          insurance{\\n            id\\n            name\\n          }\\n        }\\n        technical_controls{\\n          id\\n          date_begin\\n          date_end\\n        }\\n  }\\n}\\n\"]);return s=function(){return n},n}function l(){var n=Object(a.a)([\"\\n{\\n  cars {\\n    edges{\\n        node{\\n            id\\n            plate_number\\n            brandId\\n            model\\n            model_date\\n            categoryId\\n            price\\n            colorId\\n            chassis_number\\n            statusId\\n            picture_url\\n            picture\\n            brand{\\n              id\\n              name\\n            }\\n            category{\\n              id\\n              title\\n            }\\n            color{\\n              id\\n              name\\n            }\\n            status{\\n              id\\n              title\\n            }\\n        }\\n    }\\n  }\\n}\\n\"]);return l=function(){return n},n}var f=c()(l()),h=c()(s()),m=c()(u()),b=c()(o()),I=c()(i()),p=c()(d())},cGyd:function(n,e,t){\"use strict\";t.d(e,\"e\",(function(){return f})),t.d(e,\"c\",(function(){return h})),t.d(e,\"d\",(function(){return m})),t.d(e,\"f\",(function(){return b})),t.d(e,\"a\",(function(){return I})),t.d(e,\"b\",(function(){return p}));var a=t(\"h4VS\"),r=t(\"lTCR\"),c=t.n(r);function d(){var n=Object(a.a)([\"\\n  mutation delete_rental($id: ID!)  {\\n    deleteRental(id:$id){\\n        statut_code\\n        message\\n    }\\n  }\\n\\n\"]);return d=function(){return n},n}function i(){var n=Object(a.a)([\"\\n  mutation update_rental($data:RentalInput!)  {\\n    createRental(data:$data){\\n        id\\n    }\\n  }\\n\\n\"]);return i=function(){return n},n}function o(){var n=Object(a.a)([\"\\n  mutation update_rental($id: ID!, $data:RentalInput!)  {\\n    updateRental(id:$id,data:$data){\\n      id\\n      bookingId\\n      carId\\n      customerId\\n      second_driverId\\n      date_begin\\n      date_end\\n    }\\n  }\\n\\n\"]);return o=function(){return n},n}function u(){var n=Object(a.a)([\"\\nquery get_rental($rentalId:ID!){\\n  rental(id:$rentalId){\\n    id\\n    bookingId\\n    carId\\n    customerId\\n    second_driverId\\n    date_begin\\n    date_end\\n  }\\n}\\n\"]);return u=function(){return n},n}function s(){var n=Object(a.a)([\"\\nquery get_rental($rentalId:ID!){\\n  rental(id:$rentalId){\\n    id\\n    bookingId\\n    carId\\n    customerId\\n    second_driverId\\n    date_begin\\n    date_end\\n    customer{\\n      id\\n      firstname\\n      lastname\\n      gender\\n      cni\\n      phone\\n      email\\n      address\\n      city\\n    }\\n    car{\\n      id\\n      plate_number\\n      model\\n      model_date\\n      price\\n      chassis_number\\n      category{\\n        id\\n        title\\n      }\\n      brand{\\n        id\\n        name\\n      }\\n      color{\\n        id\\n        name\\n      }\\n    }\\n  }\\n}\\n\"]);return s=function(){return n},n}function l(){var n=Object(a.a)([\"\\n{\\n  rentals {\\n    edges{\\n        node{\\n            id\\n            bookingId\\n            carId\\n            customerId\\n            second_driverId\\n            date_begin\\n            date_end\\n            customer{\\n              id\\n              firstname\\n              lastname\\n              gender\\n            }\\n            car{\\n              id\\n              plate_number\\n            }\\n\\n        }\\n    }\\n  }\\n}\\n\"]);return l=function(){return n},n}var f=c()(l()),h=c()(s()),m=c()(u()),b=c()(o()),I=c()(i()),p=c()(d())},jGz1:function(n,e,t){\"use strict\";var a=t(\"1OyB\"),r=t(\"vuIU\"),c=t(\"JX7q\"),d=t(\"Ji7U\"),i=t(\"md7G\"),o=t(\"foSv\"),u=t(\"q1tI\"),s=t.n(u),l=t(\"Cs6D\"),f=t(\"GaG9\"),h=t(\"vbcS\"),m=s.a.createElement;function b(n){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,a=Object(o.a)(n);if(e){var r=Object(o.a)(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var I=function(n){Object(d.a)(t,n);var e=b(t);function t(n){var r;return Object(a.a)(this,t),(r=e.call(this,n)).state={selectedId:0},r.setSelectedId=r.setSelectedId.bind(Object(c.a)(r)),r.onChange=r.onChange.bind(Object(c.a)(r)),r}return Object(r.a)(t,[{key:\"componentDidMount\",value:function(){var n=this.props.selectedId;n&&(this.state.selectedId=n,this.onChange(n))}},{key:\"setSelectedId\",value:function(n){this.setState({selectedId:1*n}),this.onChange(n)}},{key:\"onChange\",value:function(n){this.props.onChange&&this.props.onChange(1*n)}},{key:\"render\",value:function(){var n=this,e=this.state.selectedId;return m(h.b,{query:f.e,pollInterval:3e3},(function(t){var a=t.loading,r=t.error,c=t.data;if(a)return m(\"div\",null,\"Chargement en cours ...\");if(r)return console.log(r),m(\"div\",null,\"Error\");for(var d,i=[],o=0;o<c.cars.edges.length;o++){var u=c.cars.edges[o].node;i.push({value:u.id,label:u.brand.name+\" \"+u.model+\" - \"+u.plate_number}),u.id==e&&(d={value:u.id,label:u.brand.name+\" \"+u.model+\" - \"+u.plate_number})}return 0==e&&c.cars.edges[0]&&n.setSelectedId(c.cars.edges[0].node.id),m(l.a,{className:\"basic-single\",classNamePrefix:\"select\",defaultValue:d,isSearchable:!0,name:\"car\",options:i,onChange:function(e){var t=e.value;return n.setSelectedId(t)}})}))}}]),t}(s.a.Component);e.a=I},wZgz:function(n,e,t){\"use strict\";var a=t(\"1OyB\"),r=t(\"vuIU\"),c=t(\"JX7q\"),d=t(\"Ji7U\"),i=t(\"md7G\"),o=t(\"foSv\"),u=t(\"q1tI\"),s=t.n(u),l=t(\"Cs6D\"),f=t(\"xmSt\"),h=t(\"vbcS\"),m=s.a.createElement;function b(n){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,a=Object(o.a)(n);if(e){var r=Object(o.a)(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var I=function(n){Object(d.a)(t,n);var e=b(t);function t(n){var r;return Object(a.a)(this,t),(r=e.call(this,n)).state={selectedId:0},r.setSelectedId=r.setSelectedId.bind(Object(c.a)(r)),r.onChange=r.onChange.bind(Object(c.a)(r)),r}return Object(r.a)(t,[{key:\"componentDidMount\",value:function(){var n=this.props.selectedId;n&&(this.state.selectedId=n,this.onChange(n))}},{key:\"setSelectedId\",value:function(n){this.setState({selectedId:1*n}),this.onChange(n)}},{key:\"onChange\",value:function(n){this.props.onChange&&this.props.onChange(1*n)}},{key:\"render\",value:function(){var n=this,e=this.state.selectedId;return m(h.b,{query:f.e,pollInterval:3e3},(function(t){var a=t.loading,r=t.error,c=t.data;if(a)return m(\"div\",null,\"Chargement en cours ...\");if(r)return console.log(r),m(\"div\",null,\"Error\");for(var d,i=[],o=0;o<c.customers.edges.length;o++){var u=c.customers.edges[o].node;i.push({value:u.id,label:u.lastname+\" \"+u.firstname}),u.id==e&&(d={value:u.id,label:u.lastname+\" \"+u.firstname})}return!n.state.selectedId&&c.customers.edges[0]&&n.setSelectedId(c.customers.edges[0].node.id),m(l.a,{className:\"basic-single\",classNamePrefix:\"select\",defaultValue:d,isSearchable:!0,name:\"customer\",options:i,onChange:function(e){var t=e.value;return n.setSelectedId(t)}})}))}}]),t}(s.a.Component);e.a=I}}]);","extractedComments":[]}
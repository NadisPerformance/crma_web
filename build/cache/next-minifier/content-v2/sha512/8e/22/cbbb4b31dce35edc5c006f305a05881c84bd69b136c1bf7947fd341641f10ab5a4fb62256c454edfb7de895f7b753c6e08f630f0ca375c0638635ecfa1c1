{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{\"4wzE\":function(t,e,n){\"use strict\";n.r(e);var o=n(\"1OyB\"),a=n(\"vuIU\"),i=n(\"JX7q\"),r=n(\"Ji7U\"),s=n(\"md7G\"),c=n(\"foSv\"),u=(n(\"8Kt/\"),n(\"YFqc\")),l=n.n(u),d=n(\"q1tI\"),b=n.n(d),f=n(\"hJmc\"),g=n(\"O+Uc\"),v=n(\"vbcS\"),k=n(\"2/Fh\"),h=n(\"F1wk\"),p=(n(\"3Mv1\"),n(\"nOHt\")),m=n.n(p),w=n(\"PusH\"),_=b.a.createElement;function y(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(c.a)(t);if(e){var a=Object(c.a)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return Object(s.a)(this,n)}}var I=function(t){Object(r.a)(n,t);var e=y(n);function n(t){var a;Object(o.a)(this,n);var r=(a=e.call(this,t)).props.router.query.bookingId;return a.state={bookingId:r,booking:null},a.fariane=[{title:\"Acceuil\",path:\"/\"},{title:\"R\\xe9servations\",path:\"/bookings/list\"}],a.onDelete=a.onDelete.bind(Object(i.a)(a)),a}return Object(a.a)(n,[{key:\"onDelete\",value:function(){window.flash(\"La r\\xe9servation a bien \\xe9t\\xe9 supprim\\xe9e.\",\"success\"),this.props.history.push(\"/bookings/\")}},{key:\"header\",value:function(){var t=this.state.bookingId;return _(b.a.Fragment,null,_(\"h3\",{className:\"card-title\"},\"R\\xe9servation #\"+t),_(\"div\",{className:\"card-tools\"},_(l.a,{href:\"/bookings/edit/\"+t},_(\"a\",{className:\"btn btn-success btn-sm\",\"data-toggle\":\"tooltip\",title:\"\",\"data-original-title\":\"Nouvelle\"},_(\"i\",{className:\"fa fa-pen-alt\"}),\" Modifier\"))))}},{key:\"render\",value:function(){var t=this,e=this.state,n=e.bookingId,o=e.booking;return o&&delete o.id,_(f.a,null,_(h.a,{title:\"R\\xe9servations\",fariane:this.fariane},_(v.b,{query:g.c,variables:{bookingId:n},_pollInterval:3e3},(function(e){var a=e.loading,i=e.error,r=e.data;return a?_(\"div\",null,\"Chargement en cours ...\"):i?(console.log(i),_(\"div\",null,\"Error\")):(console.log(r),r.booking?(null==t.state.booking&&(delete r.booking.__typename,o=t.state.booking=r.booking),o.customerId=1*t.state.booking.customerId,o.carId=1*t.state.booking.carId,delete o.customer,delete o.car,_(v.a,{mutation:g.e,variables:{id:n,data:o}},(function(e){return _(w.a,{booking:o,onSubmit:function(t){t.preventDefault(),e().then((function(t){alert(\"La r\\xe9servation a bien \\xe9t\\xe9 modifi\\xe9e.\",\"success\"),m.a.push(\"/bookings/view?bookingId=\"+t.data.updateBooking.id)}))},onChange:function(e){return t.setState({booking:e})}})}))):\"Booking not found\")}))))}}]),n}(b.a.Component);e.default=Object(k.a)(Object(p.withRouter)(I))},E5J3:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/bookings/edit\",function(){return n(\"4wzE\")}])}},[[\"E5J3\",0,2,7,1,3,4,5,6,8,9,10,11,13]]]);","extractedComments":[]}
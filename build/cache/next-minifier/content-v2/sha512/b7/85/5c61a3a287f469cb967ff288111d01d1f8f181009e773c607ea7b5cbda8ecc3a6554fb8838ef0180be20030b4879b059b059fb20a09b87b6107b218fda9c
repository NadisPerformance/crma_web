{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{\"9v2h\":function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/bookings/view\",function(){return e(\"XUJl\")}])},\"O+Uc\":function(t,n,e){\"use strict\";e.d(n,\"d\",(function(){return d})),e.d(n,\"c\",(function(){return f})),e.d(n,\"e\",(function(){return b})),e.d(n,\"a\",(function(){return h})),e.d(n,\"b\",(function(){return m}));var r=e(\"h4VS\"),a=e(\"lTCR\"),o=e.n(a);function i(){var t=Object(r.a)([\"\\n  mutation delete_booking($id: ID!)  {\\n    deleteBooking(id:$id){\\n        statut_code\\n        message\\n    }\\n  }\\n\\n\"]);return i=function(){return t},t}function c(){var t=Object(r.a)([\"\\n  mutation update_booking($data:BookingInput!)  {\\n    createBooking(data:$data){\\n        id\\n    }\\n  }\\n\\n\"]);return c=function(){return t},t}function u(){var t=Object(r.a)([\"\\n  mutation update_booking($id: ID!, $data:BookingInput!)  {\\n    updateBooking(id:$id,data:$data){\\n      id\\n      carId\\n      customerId\\n      date_begin\\n      date_end\\n      montant_avance\\n    }\\n  }\\n\\n\"]);return u=function(){return t},t}function l(){var t=Object(r.a)([\"\\nquery booking($bookingId:ID!){\\n  booking(id:$bookingId){\\n    id\\n\\n    carId\\n    customerId\\n\\n    date_begin\\n    date_end\\n    montant_avance\\n    customer{\\n      id\\n      firstname\\n      lastname\\n      gender\\n      cni\\n      phone\\n      email\\n      address\\n      city\\n    }\\n    car{\\n      id\\n      plate_number\\n      model\\n      model_date\\n      price\\n      chassis_number\\n      category{\\n        id\\n        title\\n      }\\n      brand{\\n        id\\n        name\\n      }\\n      color{\\n        id\\n        name\\n      }\\n    }\\n  }\\n}\\n\"]);return l=function(){return t},t}function s(){var t=Object(r.a)([\"\\n{\\n  bookings {\\n    edges{\\n        node{\\n            id\\n            carId\\n            customerId\\n            date_begin\\n            date_end\\n            montant_avance\\n            customer{\\n              id\\n              firstname\\n              lastname\\n              gender\\n            }\\n            car{\\n              id\\n              plate_number\\n            }\\n\\n        }\\n    }\\n  }\\n}\\n\"]);return s=function(){return t},t}var d=o()(s()),f=o()(l()),b=o()(u()),h=o()(c()),m=o()(i())},XUJl:function(t,n,e){\"use strict\";e.r(n);var r=e(\"1OyB\"),a=e(\"vuIU\"),o=e(\"JX7q\"),i=e(\"Ji7U\"),c=e(\"md7G\"),u=e(\"foSv\"),l=(e(\"8Kt/\"),e(\"YFqc\")),s=e.n(l),d=e(\"q1tI\"),f=e.n(d),b=e(\"hJmc\"),h=e(\"O+Uc\"),m=e(\"vbcS\"),p=e(\"2/Fh\"),v=e(\"Jz+W\"),y=e(\"KD6P\"),g=e(\"F1wk\"),k=e(\"3Mv1\"),O=e(\"nOHt\"),j=e(\"3Z9Z\"),w=e(\"JI6e\"),_=e(\"wd/R\"),R=e.n(_),I=f.a.createElement;function D(t){var n=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=Object(u.a)(t);if(n){var a=Object(u.a)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return Object(c.a)(this,e)}}var N=function(t){Object(i.a)(e,t);var n=D(e);function e(t){return Object(r.a)(this,e),n.call(this,t)}return Object(a.a)(e,[{key:\"render\",value:function(){var t=this.props.booking;return t?I(j.a,{className:\"col-sm-12\"},I(w.a,{className:\"col-sm-6 table-responsive\"},I(\"table\",{className:\"table\"},I(\"tbody\",null,I(\"tr\",null,I(\"th\",{style:{width:\"50%\"}},\"Date de d\\xe9but:\"),I(\"td\",null,R()(t.date_begin).format(\"DD/MM/YYYY\"))),I(\"tr\",null,I(\"th\",{style:{width:\"50%\"}},\"Date de fin:\"),I(\"td\",null,R()(t.date_end).format(\"DD/MM/YYYY\"))),I(\"tr\",null,I(\"th\",{style:{width:\"50%\"}},\"Montant pay\\xe9 \\xe0 l'avance:\"),I(\"td\",null,t.montant_avance>0&&t.montant_avance+\" Dhs\",0==t.montant_avance&&\"--\")))))):null}}]),e}(f.a.Component),C=Object(O.withRouter)(N),E=f.a.createElement;function J(t){var n=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=Object(u.a)(t);if(n){var a=Object(u.a)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return Object(c.a)(this,e)}}var Y=function(t){Object(i.a)(e,t);var n=J(e);function e(t){return Object(r.a)(this,e),n.call(this,t)}return Object(a.a)(e,[{key:\"render\",value:function(){var t=this.props.customer;return t?E(j.a,{className:\"col-sm-12\"},E(w.a,{className:\"col-sm-6 table-responsive\"},E(\"table\",{className:\"table\"},E(\"tbody\",null,E(\"tr\",null,E(\"th\",{style:{width:\"50%\"}},\"Nom complet:\"),E(\"td\",null,t.gender,\" \",t.lastname,\" \",t.firstname)),E(\"tr\",null,E(\"th\",{style:{width:\"50%\"}},\"CNI:\"),E(\"td\",null,t.cni)),E(\"tr\",null,E(\"th\",{style:{width:\"50%\"}},\"T\\xe9l\\xe9phone:\"),E(\"td\",null,t.phone)),E(\"tr\",null,E(\"th\",{style:{width:\"50%\"}},\"E-mail:\"),E(\"td\",null,t.email)),E(\"tr\",null,E(\"th\",{style:{width:\"50%\"}},\"Adresse:\"),E(\"td\",null,t.address,E(\"br\",null),\" \",t.city)))))):null}}]),e}(f.a.Component),q=Object(O.withRouter)(Y),B=f.a.createElement;function S(t){var n=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=Object(u.a)(t);if(n){var a=Object(u.a)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return Object(c.a)(this,e)}}var $=function(t){Object(i.a)(e,t);var n=S(e);function e(t){return Object(r.a)(this,e),n.call(this,t)}return Object(a.a)(e,[{key:\"render\",value:function(){var t=this.props.car;return t?B(j.a,{className:\"col-sm-12\"},B(w.a,{className:\"col-sm-6 table-responsive\"},B(\"table\",{className:\"table\"},B(\"tbody\",null,B(\"tr\",null,B(\"th\",{style:{width:\"50%\"}},\"Immatriculation:\"),B(\"td\",null,t.plate_number)),B(\"tr\",null,B(\"th\",{style:{width:\"50%\"}},\"La marque:\"),B(\"td\",null,t.brand.name)),B(\"tr\",null,B(\"th\",{style:{width:\"50%\"}},\"Mod\\xe9le:\"),B(\"td\",null,t.model,\" \",t.model_date)),B(\"tr\",null,B(\"th\",{style:{width:\"50%\"}},\"Cat\\xe9gorie:\"),B(\"td\",null,t.category.title)),B(\"tr\",null,B(\"th\",{style:{width:\"50%\"}},\"Prix de location:\"),B(\"td\",null,t.price,\" DHs\")),B(\"tr\",null,B(\"th\",{style:{width:\"50%\"}},\"Couleur:\"),B(\"td\",null,\"car.color.name\")),B(\"tr\",null,B(\"th\",{style:{width:\"50%\"}},\"Num\\xe9ro de chassis:\"),B(\"td\",null,t.chassis_number)))))):null}}]),e}(f.a.Component),x=Object(O.withRouter)($),P=e(\"y/oY\"),U=f.a.createElement;function M(t){var n=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=Object(u.a)(t);if(n){var a=Object(u.a)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return Object(c.a)(this,e)}}var F=function(t){Object(i.a)(e,t);var n=M(e);function e(t){var a;Object(r.a)(this,e);var i=(a=n.call(this,t)).props.router.query.bookingId;return a.state={bookingId:i},a.fariane=[{title:\"Acceuil\",path:\"/\"},{title:\"R\\xe9servations\",path:\"/bookings/list\"}],a.onDelete=a.onDelete.bind(Object(o.a)(a)),a}return Object(a.a)(e,[{key:\"onDelete\",value:function(){window.flash(\"La r\\xe9servation a bien \\xe9t\\xe9 supprim\\xe9e.\",\"success\"),this.props.history.push(\"/bookings/\")}},{key:\"header\",value:function(){var t=this.state.bookingId;return U(f.a.Fragment,null,U(\"h3\",{className:\"card-title\"},\"R\\xe9servation #\"+t),U(\"div\",{className:\"card-tools\"},U(s.a,{href:\"/bookings/edit?bookingId=\"+t},U(\"a\",{className:\"btn btn-success btn-sm\",\"data-toggle\":\"tooltip\",title:\"\",\"data-original-title\":\"Nouvelle\"},U(\"i\",{className:\"fa fa-pen-alt\"}),\" Modifier\")),U(P.a,{bookingId:t})))}},{key:\"render\",value:function(){var t=this.state.bookingId;return U(b.a,null,U(g.a,{title:\"R\\xe9servations\",fariane:this.fariane},U(k.a,{header:this.header()},U(m.b,{query:h.c,variables:{bookingId:t},pollInterval:3e3},(function(t){var n=t.loading,e=t.error,r=t.data;return n?U(\"div\",null,\"Chargement en cours ...\"):e?(console.log(e),U(\"div\",null,\"Error\")):(console.log(r),r.booking?U(f.a.Fragment,null,U(\"br\",null),U(v.a,{defaultActiveKey:\"booking\",id:\"uncontrolled-tab-example\",style:{backgroundColor:\"#f4f6f9\",marginLeft:\"3px\",paddingBottom:\"2px\"}},U(y.a,{eventKey:\"booking\",title:\"Location\"},U(C,{booking:r.booking})),U(y.a,{eventKey:\"customer\",title:\"Client\"},U(q,{customer:r.booking.customer})),U(y.a,{eventKey:\"car\",title:\"V\\xe9hicule\"},U(x,{car:r.booking.car})))):\"Booking not found\")})))))}}]),e}(f.a.Component);n.default=Object(p.a)(Object(O.withRouter)(F))},\"y/oY\":function(t,n,e){\"use strict\";var r=e(\"1OyB\"),a=e(\"vuIU\"),o=e(\"JX7q\"),i=e(\"Ji7U\"),c=e(\"md7G\"),u=e(\"foSv\"),l=e(\"q1tI\"),s=e.n(l),d=e(\"O+Uc\"),f=e(\"vbcS\"),b=e(\"2/Fh\"),h=e(\"nOHt\"),m=e.n(h),p=s.a.createElement;function v(t){var n=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=Object(u.a)(t);if(n){var a=Object(u.a)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return Object(c.a)(this,e)}}var y=function(t){Object(i.a)(e,t);var n=v(e);function e(t){var a;Object(r.a)(this,e);var i=(a=n.call(this,t)).props.router.query.bookingId;return a.state={bookingId:i,booking:null},a.fariane=[{title:\"Acceuil\",path:\"/\"},{title:\"R\\xe9servations\",path:\"/bookings/\"}],a.onDelete=a.onDelete.bind(Object(o.a)(a)),a}return Object(a.a)(e,[{key:\"onDelete\",value:function(){window.flash(\"La r\\xe9servation a bien \\xe9t\\xe9 supprim\\xe9e.\",\"success\"),this.props.history.push(\"/bookings/list\")}},{key:\"render\",value:function(){var t=this.props.bookingId;return p(f.a,{mutation:d.b,variables:{id:t}},(function(t){return p(\"a\",{style:{margin:3},onClick:function(n){n.preventDefault(),t().then((function(t){1==t.data.deleteBooking.statut_code&&(alert(\"La r\\xe9servation a bien \\xe9t\\xe9 supprim\\xe9e.\",\"success\"),m.a.push(\"/bookings/list\"))}))},className:\"btn btn-danger btn-sm\"},p(\"i\",{className:\"fa fa-trash\",style:{color:\"white\"}}))}))}}]),e}(s.a.Component);n.a=Object(b.a)(Object(h.withRouter)(y))}},[[\"9v2h\",0,2,7,1,3,4,5,8,12]]]);","extractedComments":[]}
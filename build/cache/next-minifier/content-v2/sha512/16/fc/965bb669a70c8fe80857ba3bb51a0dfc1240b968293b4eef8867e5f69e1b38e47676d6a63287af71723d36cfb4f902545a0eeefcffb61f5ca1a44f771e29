{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[44],{m556:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/rentals/edit\",function(){return n(\"vwwU\")}])},vwwU:function(t,e,n){\"use strict\";n.r(e);var a=n(\"1OyB\"),r=n(\"vuIU\"),l=n(\"JX7q\"),i=n(\"Ji7U\"),o=n(\"md7G\"),c=n(\"foSv\"),s=(n(\"8Kt/\"),n(\"YFqc\")),u=n.n(s),d=n(\"q1tI\"),f=n.n(d),v=n(\"hJmc\"),h=n(\"cGyd\"),p=n(\"vbcS\"),b=n(\"2/Fh\"),m=n(\"F1wk\"),w=(n(\"3Mv1\"),n(\"nOHt\")),_=n.n(w),y=n(\"/7ez\"),I=f.a.createElement;function O(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(c.a)(t);if(e){var r=Object(c.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(o.a)(this,n)}}var g=function(t){Object(i.a)(n,t);var e=O(n);function n(t){var r;Object(a.a)(this,n);var i=(r=e.call(this,t)).props.router.query.rentalId;return r.state={rentalId:i,rental:null},r.fariane=[{title:\"Acceuil\",path:\"/\"},{title:\"Locations\",path:\"/rentals/list\"}],r.onDelete=r.onDelete.bind(Object(l.a)(r)),r}return Object(r.a)(n,[{key:\"onDelete\",value:function(){window.flash(\"L'utilisateur a bien \\xe9t\\xe9 supprim\\xe9e.\",\"success\"),this.props.history.push(\"/rentals/\")}},{key:\"header\",value:function(){var t=this.state.rentalId;return I(f.a.Fragment,null,I(\"h3\",{className:\"card-title\"},\"Location #\"+t),I(\"div\",{className:\"card-tools\"},I(u.a,{href:\"/rentals/edit/\"+t},I(\"a\",{className:\"btn btn-success btn-sm\",\"data-toggle\":\"tooltip\",title:\"\",\"data-original-title\":\"Nouvelle\"},I(\"i\",{className:\"fa fa-pen-alt\"}),\" Modifier\"))))}},{key:\"render\",value:function(){var t=this,e=this.state,n=e.rentalId,a=e.rental;return a&&delete a.id,I(v.a,null,I(m.a,{title:\"Locations\",fariane:this.fariane},I(p.b,{query:h.d,variables:{rentalId:n},_pollInterval:3e3},(function(e){var r=e.loading,l=e.error,i=e.data;return r?I(\"div\",null,\"Chargement en cours ...\"):l?(console.log(l),I(\"div\",null,\"Error\")):(console.log(i),i.rental?(null==t.state.rental&&(delete i.rental.__typename,a=t.state.rental=i.rental),a.customerId=1*t.state.rental.customerId,a.carId=1*t.state.rental.carId,a.second_driverId=1*t.state.rental.second_driverId,delete a.customer,delete a.car,I(p.a,{mutation:h.f,variables:{id:n,data:a}},(function(e){return I(y.a,{rental:a,onSubmit:function(t){t.preventDefault(),e().then((function(t){alert(\"La location a bien \\xe9t\\xe9 modifi\\xe9.\",\"success\"),_.a.push(\"/rentals/view?rentalId=\"+t.data.updateRental.id)}))},onChange:function(e){return t.setState({rental:e})}})}))):\"Rental not found\")}))))}}]),n}(f.a.Component);e.default=Object(b.a)(Object(w.withRouter)(g))}},[[\"m556\",0,2,7,1,3,4,5,6,8,9,10,11,15]]]);","extractedComments":[]}
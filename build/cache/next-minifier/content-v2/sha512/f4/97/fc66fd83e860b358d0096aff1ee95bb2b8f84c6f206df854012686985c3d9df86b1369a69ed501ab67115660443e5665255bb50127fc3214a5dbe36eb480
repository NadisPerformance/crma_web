{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[38],{\"58Gk\":function(t,e,a){\"use strict\";var n=a(\"1OyB\"),r=a(\"vuIU\"),o=a(\"Ji7U\"),s=a(\"md7G\"),i=a(\"foSv\"),u=a(\"q1tI\"),c=a.n(u),l=a(\"QojX\"),m=a(\"cWnB\"),h=a(\"wd/R\"),f=a.n(h),p=a(\"NRhA\"),d=a.n(p),v=(a(\"5Buo\"),c.a.createElement);function y(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=Object(i.a)(t);if(e){var r=Object(i.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var b=function(t){Object(o.a)(a,t);var e=y(a);function a(t){var r;return Object(n.a)(this,a),(r=e.call(this,t)).state={customer:{type:0,company_name:\"\",gender:\"M.\",lastname:\"\",firstname:\"\",birthday:\"\",cni:\"\",driver_license:\"\",city:\"\",address:\"\",email:\"\",phone:\"\"}},r}return Object(r.a)(a,[{key:\"componentDidMount\",value:function(){var t=this.props.customer;t&&(this.state.customer=t),this.onChange()}},{key:\"setFirstname\",value:function(t){this.state.customer.firstname=t,this.setState({customer:this.state.customer}),this.onChange()}},{key:\"setLastname\",value:function(t){this.state.customer.lastname=t,this.setState({customer:this.state.customer}),this.onChange()}},{key:\"setBirthday\",value:function(t){this.state.customer.birthday=t,this.setState({customer:this.state.customer}),this.onChange()}},{key:\"setGender\",value:function(t){this.state.customer.gender=t,this.setState({customer:this.state.customer}),this.onChange()}},{key:\"setCNI\",value:function(t){this.state.customer.cni=t,this.setState({customer:this.state.customer}),this.onChange()}},{key:\"setType\",value:function(t){this.state.customer.type=1*t,this.setState({customer:this.state.customer}),this.onChange()}},{key:\"setDriver_license\",value:function(t){this.state.customer.driver_license=t,this.setState({customer:this.state.customer}),this.onChange()}},{key:\"setCity\",value:function(t){this.state.customer.city=t,this.setState({customer:this.state.customer}),this.onChange()}},{key:\"setAddress\",value:function(t){this.state.customer.address=t,this.setState({customer:this.state.customer}),this.onChange()}},{key:\"setEmail\",value:function(t){this.state.customer.email=t,this.setState({customer:this.state.customer}),this.onChange()}},{key:\"setPhone\",value:function(t){this.state.customer.phone=t,this.setState({customer:this.state.customer}),this.onChange()}},{key:\"setCompany_name\",value:function(t){this.state.customer.company_name=t,this.setState({customer:this.state.customer}),this.onChange()}},{key:\"onChange\",value:function(){this.props.onChange&&this.props.onChange(this.state.customer)}},{key:\"render\",value:function(){var t=this,e=this.state.customer;return v(l.a,{onSubmit:function(e){t.props.onSubmit&&t.props.onSubmit(e)}},v(l.a.Group,{controlId:\"formBasicEmail\"},v(l.a.Label,null,\"Type:\"),v(l.a.Control,{value:e.type,onChange:function(e){return t.setType(e.target.value)},as:\"select\"},v(\"option\",{value:\"0\"},\"Particulier\"),v(\"option\",{value:\"1\"},\"Soci\\xe9t\\xe9\"))),1==e.type&&v(l.a.Group,{controlId:\"formBasicEmail\"},v(l.a.Label,null,\"Soci\\xe9t\\xe9:\"),v(l.a.Control,{value:e.company_name,type:\"text\",onChange:function(e){return t.setCompany_name(e.target.value)},placeholder:\"Soci\\xe9t\\xe9\"})),v(l.a.Group,{controlId:\"formBasicEmail\"},v(l.a.Label,null,\"Nom:\"),v(l.a.Control,{value:e.lastname,type:\"text\",onChange:function(e){return t.setLastname(e.target.value)},placeholder:\"Nom \"})),v(l.a.Group,{controlId:\"formBasicEmail\"},v(l.a.Label,null,\"Pr\\xe9nom:\"),v(l.a.Control,{value:e.firstname,type:\"text\",onChange:function(e){return t.setFirstname(e.target.value)},placeholder:\"Prenom \"})),v(l.a.Group,{controlId:\"formBasicEmail\"},v(l.a.Label,null,\"Date de naissance:\"),v(\"br\",null),v(d.a,{selected:Date.parse(f()(e.birthday).toDate()),onChange:function(e){return t.setBirthday(e)},isClearable:!0,dateFormat:\"d/MM/yyyy\",placeholderText:\"Date de naissance\"})),v(l.a.Group,{controlId:\"formBasicEmail\"},v(l.a.Label,null,\"Civilit\\xe9:\"),v(l.a.Control,{value:e.gender,onChange:function(e){return t.setGender(e.target.value)},as:\"select\"},v(\"option\",{value:\"M.\"},\"M.\"),v(\"option\",{value:\"Mme\"},\"Mme\"),v(\"option\",{value:\"Mlle\"},\"Mlle\"))),v(l.a.Group,{controlId:\"formBasicEmail\"},v(l.a.Label,null,\"CNI:\"),v(l.a.Control,{value:e.cni,type:\"text\",onChange:function(e){return t.setCNI(e.target.value)},placeholder:\"CNI \"})),v(l.a.Group,{controlId:\"formBasicEmail\"},v(l.a.Label,null,\"Permis de conduite:\"),v(l.a.Control,{value:e.driver_license,type:\"text\",onChange:function(e){return t.setDriver_license(e.target.value)},placeholder:\"Permis de conduite \"})),v(l.a.Group,{controlId:\"formBasicEmail\"},v(l.a.Label,null,\"Ville:\"),v(l.a.Control,{value:e.city,type:\"text\",onChange:function(e){return t.setCity(e.target.value)},placeholder:\"Ville \"})),v(l.a.Group,{controlId:\"formBasicEmail\"},v(l.a.Label,null,\"Adresse:\"),v(l.a.Control,{value:e.address,type:\"text\",onChange:function(e){return t.setAddress(e.target.value)},placeholder:\"Adresse \"})),v(l.a.Group,{controlId:\"formBasicEmail\"},v(l.a.Label,null,\"E-mail:\"),v(l.a.Control,{value:e.email,type:\"text\",onChange:function(e){return t.setEmail(e.target.value)},placeholder:\"E-mail \"})),v(l.a.Group,{controlId:\"formBasicEmail\"},v(l.a.Label,null,\"T\\xe9l\\xe9phone:\"),v(l.a.Control,{value:e.phone,type:\"text\",onChange:function(e){return t.setPhone(e.target.value)},placeholder:\"T\\xe9l\\xe9phone \"})),v(\"div\",{className:\"text-right\",style:{margin:10}},v(m.a,{variant:\"primary\",type:\"submit\"},\"Enregistrer\")))}}]),a}(c.a.Component);e.a=b},VbXa:function(t,e){t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}},cWnB:function(t,e,a){\"use strict\";var n=a(\"wx14\"),r=a(\"zLVn\"),o=a(\"TSYQ\"),s=a.n(o),i=a(\"q1tI\"),u=a.n(i),c=a(\"vUet\"),l=a(\"dbZe\"),m=u.a.forwardRef((function(t,e){var a=t.bsPrefix,o=t.variant,i=t.size,m=t.active,h=t.className,f=t.block,p=t.type,d=t.as,v=Object(r.a)(t,[\"bsPrefix\",\"variant\",\"size\",\"active\",\"className\",\"block\",\"type\",\"as\"]),y=Object(c.a)(a,\"btn\"),b=s()(h,y,m&&\"active\",y+\"-\"+o,f&&y+\"-block\",i&&y+\"-\"+i);if(v.href)return u.a.createElement(l.a,Object(n.a)({},v,{as:d,ref:e,className:s()(b,v.disabled&&\"disabled\")}));e&&(v.ref=e),p?v.type=p:d||(v.type=\"button\");var C=d||\"button\";return u.a.createElement(C,Object(n.a)({},v,{className:b}))}));m.displayName=\"Button\",m.defaultProps={variant:\"primary\",active:!1,disabled:!1},e.a=m},dbZe:function(t,e,a){\"use strict\";var n=a(\"wx14\"),r=a(\"zLVn\"),o=a(\"q1tI\"),s=a.n(o);var i=function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return e.filter((function(t){return null!=t})).reduce((function(t,e){if(\"function\"!==typeof e)throw new Error(\"Invalid Argument Type, must only provide functions, undefined, or null.\");return null===t?e:function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];t.apply(this,n),e.apply(this,n)}}),null)};function u(t){return!t||\"#\"===t.trim()}var c=s.a.forwardRef((function(t,e){var a=t.as,o=void 0===a?\"a\":a,c=t.disabled,l=t.onKeyDown,m=Object(r.a)(t,[\"as\",\"disabled\",\"onKeyDown\"]),h=function(t){var e=m.href,a=m.onClick;(c||u(e))&&t.preventDefault(),c?t.stopPropagation():a&&a(t)};return u(m.href)&&(m.role=m.role||\"button\",m.href=m.href||\"#\"),c&&(m.tabIndex=-1,m[\"aria-disabled\"]=!0),s.a.createElement(o,Object(n.a)({ref:e},m,{onClick:h,onKeyDown:i((function(t){\" \"===t.key&&(t.preventDefault(),h(t))}),l)}))}));c.displayName=\"SafeAnchor\";e.a=c},qpnL:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/customers/edit\",function(){return a(\"uM10\")}])},uM10:function(t,e,a){\"use strict\";a.r(e);var n=a(\"1OyB\"),r=a(\"vuIU\"),o=a(\"JX7q\"),s=a(\"Ji7U\"),i=a(\"md7G\"),u=a(\"foSv\"),c=(a(\"8Kt/\"),a(\"YFqc\")),l=a.n(c),m=a(\"q1tI\"),h=a.n(m),f=a(\"hJmc\"),p=a(\"xmSt\"),d=a(\"vbcS\"),v=a(\"2/Fh\"),y=a(\"F1wk\"),b=(a(\"3Mv1\"),a(\"nOHt\")),C=a.n(b),g=a(\"58Gk\"),I=h.a.createElement;function k(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=Object(u.a)(t);if(e){var r=Object(u.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var E=function(t){Object(s.a)(a,t);var e=k(a);function a(t){var r;Object(n.a)(this,a);var s=(r=e.call(this,t)).props.router.query.customerId;return r.state={customerId:s,customer:null},r.fariane=[{title:\"Acceuil\",path:\"/\"},{title:\"Clients\",path:\"/customers/list\"}],r.onDelete=r.onDelete.bind(Object(o.a)(r)),r}return Object(r.a)(a,[{key:\"onDelete\",value:function(){window.flash(\"Le Client a bien \\xe9t\\xe9 supprim\\xe9e.\",\"success\"),this.props.history.push(\"/customers/\")}},{key:\"header\",value:function(){var t=this.state.customerId;return I(h.a.Fragment,null,I(\"h3\",{className:\"card-title\"},\"Client #\"+t),I(\"div\",{className:\"card-tools\"},I(l.a,{href:\"/customers/edit/\"+t},I(\"a\",{className:\"btn btn-success btn-sm\",\"data-toggle\":\"tooltip\",title:\"\",\"data-original-title\":\"Nouveau\"},I(\"i\",{className:\"fa fa-pen-alt\"}),\" Modifier\"))))}},{key:\"render\",value:function(){var t=this,e=this.state,a=e.customerId,n=e.customer;return n&&delete n.id,I(f.a,null,I(y.a,{title:\"Clients\",fariane:this.fariane},I(d.b,{query:p.d,variables:{customerId:a},_pollInterval:3e3},(function(e){var r=e.loading,o=e.error,s=e.data;return r?I(\"div\",null,\"Chargement en cours ...\"):o?(console.log(o),I(\"div\",null,\"Error\")):(console.log(s),s.customer?(null==t.state.customer&&(delete s.customer.__typename,n=t.state.customer=s.customer),I(d.a,{mutation:p.f,variables:{id:a,data:t.state.customer}},(function(e){return I(g.a,{customer:n,onSubmit:function(t){t.preventDefault(),e().then((function(t){alert(\"Le client a bien \\xe9t\\xe9 modifi\\xe9.\",\"success\"),C.a.push(\"/customers/view?customerId=\"+t.data.updateCustomer.id)}))},onChange:function(e){return t.setState({customer:e})}})}))):\"Customer not found\")}))))}}]),a}(h.a.Component);e.default=Object(v.a)(Object(b.withRouter)(E))}},[[\"qpnL\",0,2,7,1,3,4,5,6,8,10,11]]]);","extractedComments":[]}
{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { Form, Row, Col, Button, InputGroup } from 'react-bootstrap';\nimport RoleSelectInput from '../role/SelectInput';\n\nvar UserForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(UserForm, _React$Component);\n\n  var _super = _createSuper(UserForm);\n\n  function UserForm(props) {\n    var _this;\n\n    _classCallCheck(this, UserForm);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      user: {\n        firstname: \"\",\n        lastname: \"\",\n        email: \"\",\n        password: \"\",\n        phone: \"\",\n        roleId: 1\n      },\n      show_password: false\n    };\n    return _this;\n  }\n\n  _createClass(UserForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var user = this.props.user;\n\n      if (user) {\n        delete user.role;\n        this.state.user = user;\n      }\n\n      this.onChange();\n    }\n  }, {\n    key: \"setLastname\",\n    value: function setLastname(value) {\n      this.state.user.lastname = value;\n      this.setState({\n        user: this.state.user\n      });\n      this.onChange();\n    }\n  }, {\n    key: \"setFirstname\",\n    value: function setFirstname(value) {\n      this.state.user.firstname = value;\n      this.setState({\n        user: this.state.user\n      });\n      this.onChange();\n    }\n  }, {\n    key: \"setGender\",\n    value: function setGender(value) {\n      this.state.user.gender = value;\n      this.setState({\n        user: this.state.user\n      });\n      this.onChange();\n    }\n  }, {\n    key: \"setCNI\",\n    value: function setCNI(value) {\n      this.state.user.cni = value;\n      this.setState({\n        user: this.state.user\n      });\n      this.onChange();\n    }\n  }, {\n    key: \"setAddress\",\n    value: function setAddress(value) {\n      this.state.user.address = value;\n      this.setState({\n        user: this.state.user\n      });\n      this.onChange();\n    }\n  }, {\n    key: \"setEmail\",\n    value: function setEmail(value) {\n      this.state.user.email = value;\n      this.setState({\n        user: this.state.user\n      });\n      this.onChange();\n    }\n  }, {\n    key: \"setPhone\",\n    value: function setPhone(value) {\n      this.state.user.phone = value;\n      this.setState({\n        user: this.state.user\n      });\n      this.onChange();\n    }\n  }, {\n    key: \"setRoleId\",\n    value: function setRoleId(value) {\n      this.setState(function (state) {\n        return state.user.roleId = value * 1, state;\n      });\n      this.onChange();\n    }\n  }, {\n    key: \"setPassword\",\n    value: function setPassword(value) {\n      this.state.user.password = value;\n      this.setState({\n        user: this.state.user\n      });\n      this.onChange();\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange() {\n      if (this.props.onChange) this.props.onChange(this.state.user);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          user = _this$state.user,\n          show_password = _this$state.show_password;\n      return __jsx(Form, {\n        onSubmit: function onSubmit(event) {\n          if (_this2.props.onSubmit) _this2.props.onSubmit(event);\n        }\n      }, __jsx(Form.Group, {\n        controlId: \"formBasicEmail\"\n      }, __jsx(Form.Label, null, \"Nom:\"), __jsx(Form.Control, {\n        value: user.lastname,\n        type: \"text\",\n        onChange: function onChange(event) {\n          return _this2.setLastname(event.target.value);\n        },\n        placeholder: \"Nom\"\n      })), __jsx(Form.Group, {\n        controlId: \"formBasicEmail\"\n      }, __jsx(Form.Label, null, \"Pr\\xE9nom:\"), __jsx(Form.Control, {\n        value: user.firstname,\n        type: \"text\",\n        onChange: function onChange(event) {\n          return _this2.setFirstname(event.target.value);\n        },\n        placeholder: \"Pr\\xE9nom\"\n      })), __jsx(Form.Group, {\n        controlId: \"formBasicEmail\"\n      }, __jsx(Form.Label, null, \"Civilisation:\"), __jsx(Form.Control, {\n        value: user.gender,\n        type: \"text\",\n        onChange: function onChange(event) {\n          return _this2.setGender(event.target.value);\n        },\n        placeholder: \"Civilisation\"\n      })), __jsx(Form.Group, {\n        controlId: \"formBasicEmail\"\n      }, __jsx(Form.Label, null, \"CNI:\"), __jsx(Form.Control, {\n        value: user.cni,\n        type: \"text\",\n        onChange: function onChange(event) {\n          return _this2.setCNI(event.target.value);\n        },\n        placeholder: \"CNI\"\n      })), __jsx(Form.Group, {\n        controlId: \"formBasicEmail\"\n      }, __jsx(Form.Label, null, \"Adresse:\"), __jsx(Form.Control, {\n        value: user.address,\n        type: \"text\",\n        onChange: function onChange(event) {\n          return _this2.setAddress(event.target.value);\n        },\n        placeholder: \"Adresse \"\n      })), __jsx(Form.Group, {\n        controlId: \"formBasicEmail\"\n      }, __jsx(Form.Label, null, \"Email:\"), __jsx(Form.Control, {\n        value: user.email,\n        type: \"text\",\n        onChange: function onChange(event) {\n          return _this2.setEmail(event.target.value);\n        },\n        placeholder: \"Adresse email\"\n      })), __jsx(Form.Group, {\n        controlId: \"formBasicEmail\"\n      }, __jsx(Form.Label, null, \"T\\xE9l\\xE9phone:\"), __jsx(Form.Control, {\n        value: user.phone,\n        type: \"text\",\n        onChange: function onChange(event) {\n          return _this2.setPhone(event.target.value);\n        },\n        placeholder: \"T\\xE9l\\xE9phone\"\n      })), __jsx(Form.Group, {\n        controlId: \"formBasicRoleId\"\n      }, __jsx(Form.Label, null, \"R\\xF4le:\"), __jsx(RoleSelectInput, {\n        selectedId: user.roleId,\n        onChange: function onChange(selectedId) {\n          return _this2.setRoleId(selectedId);\n        }\n      })), __jsx(Form.Group, {\n        controlId: \"formBasicEmail\"\n      }, __jsx(Form.Label, null, \"Mot de passe:\"), __jsx(InputGroup, {\n        className: \"mb-3\"\n      }, __jsx(Form.Control, {\n        value: user.password,\n        type: show_password ? \"text\" : \"password\",\n        onChange: function onChange(event) {\n          return _this2.setPassword(event.target.value);\n        },\n        placeholder: \"Mot de passe\"\n      }), __jsx(InputGroup.Prepend, null, __jsx(InputGroup.Text, {\n        id: \"basic-addon1\"\n      }, __jsx(Button, {\n        className: \"btn btn-primary btn-xs\",\n        style: styles.btnXs,\n        onClick: function onClick() {\n          return _this2.setState({\n            show_password: !show_password\n          });\n        }\n      }, !show_password && __jsx(\"i\", {\n        className: \"fa fa-eye\"\n      }), show_password && __jsx(\"i\", {\n        className: \"fa fa-eye-slash\"\n      })))))), __jsx(\"div\", {\n        className: \"text-right\",\n        style: {\n          margin: 10\n        }\n      }, __jsx(Button, {\n        variant: \"primary\",\n        type: \"submit\"\n      }, \"Enregistrer\")));\n    }\n  }]);\n\n  return UserForm;\n}(React.Component);\n\nvar styles = {\n  btnXs: {\n    padding: \".25rem .4rem\",\n    fontSize: \".875rem\",\n    lineHeight: 0.5,\n    borderRadius: \".2rem\"\n  }\n};\nexport default UserForm;","map":null,"metadata":{},"sourceType":"module"}
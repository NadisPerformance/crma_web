{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/belabed90/Documents/GitHub/crma_web/components/rental/RentalForm.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { Form, Row, Col, Button, InputGroup } from 'react-bootstrap';\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport moment from 'moment';\nimport CustomerSelectInput from '../customer/SelectInput';\nimport CarSelectInput from '../car/SelectInput';\n\nvar RentalForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(RentalForm, _React$Component);\n\n  var _super = _createSuper(RentalForm);\n\n  function RentalForm(props) {\n    var _this;\n\n    _classCallCheck(this, RentalForm);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      rental: {\n        carId: 0,\n        customerId: 0,\n        second_driverId: 0,\n        date_begin: \"\",\n        date_end: \"\"\n      }\n    };\n    return _this;\n  }\n\n  _createClass(RentalForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var rental = this.props.rental;\n\n      if (rental) {\n        this.state.rental = rental;\n      }\n\n      this.onChange();\n    }\n  }, {\n    key: \"setCarId\",\n    value: function setCarId(value) {\n      this.setState(function (state) {\n        return state.rental.carId = value * 1, state;\n      });\n      this.onChange();\n    }\n  }, {\n    key: \"setCustomerId\",\n    value: function setCustomerId(value) {\n      this.setState(function (state) {\n        return state.rental.customerId = value * 1, state;\n      });\n      this.onChange();\n    }\n  }, {\n    key: \"setSecondDriverId\",\n    value: function setSecondDriverId(value) {\n      this.setState(function (state) {\n        return state.rental.second_driverId = value * 1, state;\n      });\n      this.onChange();\n    }\n  }, {\n    key: \"setDateBegin\",\n    value: function setDateBegin(value) {\n      this.state.rental.date_begin = value;\n      this.setState({\n        rental: this.state.rental\n      });\n      this.onChange();\n    }\n  }, {\n    key: \"setDateEnd\",\n    value: function setDateEnd(value) {\n      this.state.rental.date_end = value;\n      this.setState({\n        rental: this.state.rental\n      });\n      this.onChange();\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange() {\n      if (this.props.onChange) this.props.onChange(this.state.rental);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          rental = _this$state.rental,\n          show_password = _this$state.show_password;\n      return __jsx(Form, {\n        onSubmit: function onSubmit(event) {\n          if (_this2.props.onSubmit) _this2.props.onSubmit(event);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 8\n        }\n      }, __jsx(Form.Group, {\n        controlId: \"formBasicEmail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }\n      }, __jsx(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }\n      }, \"Client:\"), __jsx(CustomerSelectInput, {\n        selectedId: rental.customerId,\n        onChange: function onChange(selectedId) {\n          return _this2.setCustomerId(selectedId);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }\n      })), __jsx(Form.Group, {\n        controlId: \"formBasicEmail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }\n      }, __jsx(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }\n      }, \"V\\xE9hicule:\"), __jsx(CarSelectInput, {\n        selectedId: rental.carId,\n        onChange: function onChange(selectedId) {\n          return _this2.setCarId(selectedId);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }\n      })), __jsx(Form.Group, {\n        controlId: \"formBasicEmail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }\n      }, __jsx(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }\n      }, \"Deuxi\\xE9me conducteur:\"), __jsx(CustomerSelectInput, {\n        selectedId: rental.second_driverId,\n        onChange: function onChange(selectedId) {\n          return _this2.setSecondDriverId(selectedId);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }\n      })), __jsx(Form.Group, {\n        controlId: \"formBasicEmail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }\n      }, __jsx(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      }, \"Date de d\\xE9but:\"), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 52\n        }\n      }), __jsx(DatePicker, {\n        selected: Date.parse(moment(rental.date_begin).toDate()),\n        onChange: function onChange(date) {\n          return _this2.setDateBegin(date);\n        },\n        isClearable: true,\n        dateFormat: \"d/MM/yyyy\",\n        placeholderText: \"Date d\\xE9but\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }\n      })), __jsx(Form.Group, {\n        controlId: \"formBasicEmail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }\n      }, __jsx(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }\n      }, \"Date de fin:\"), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 50\n        }\n      }), __jsx(DatePicker, {\n        selected: Date.parse(moment(rental.date_end).toDate()),\n        onChange: function onChange(date) {\n          return _this2.setDateEnd(date);\n        },\n        isClearable: true,\n        dateFormat: \"d/MM/yyyy\",\n        placeholderText: \"Date d\\xE9but\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }\n      })), __jsx(\"div\", {\n        className: \"text-right\",\n        style: {\n          margin: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }\n      }, __jsx(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }\n      }, \"Enregistrer\")));\n    }\n  }]);\n\n  return RentalForm;\n}(React.Component);\n\nvar styles = {\n  btnXs: {\n    padding: \".25rem .4rem\",\n    fontSize: \".875rem\",\n    lineHeight: 0.5,\n    borderRadius: \".2rem\"\n  }\n};\nexport default RentalForm;","map":{"version":3,"sources":["/Users/belabed90/Documents/GitHub/crma_web/components/rental/RentalForm.js"],"names":["React","Form","Row","Col","Button","InputGroup","DatePicker","moment","CustomerSelectInput","CarSelectInput","RentalForm","props","state","rental","carId","customerId","second_driverId","date_begin","date_end","onChange","value","setState","show_password","event","onSubmit","selectedId","setCustomerId","setCarId","setSecondDriverId","Date","parse","toDate","date","setDateBegin","setDateEnd","margin","Component","styles","btnXs","padding","fontSize","lineHeight","borderRadius"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {Form, Row,Col, Button, InputGroup} from 'react-bootstrap'\nimport DatePicker from 'react-datepicker'\nimport \"react-datepicker/dist/react-datepicker.css\"\nimport moment from 'moment'\nimport CustomerSelectInput  from '../customer/SelectInput'\nimport CarSelectInput  from '../car/SelectInput'\n\nclass RentalForm extends React.Component{\n  constructor (props) {\n    super(props)\n    this.state = {\n      rental:{\n        carId:0,\n        customerId:0,\n        second_driverId:0,\n        date_begin:\"\",\n        date_end:\"\"\n      }\n    }\n  }\n  componentDidMount(){\n    const {rental} = this.props\n    if(rental){\n      this.state.rental = rental\n    }\n    this.onChange()\n  }\n  setCarId(value){\n    this.setState(state => (state.rental.carId = value *1, state))\n    this.onChange();\n  }\n\n  setCustomerId(value){\n    this.setState(state => (state.rental.customerId = value *1, state))\n    this.onChange();\n  }\n  setSecondDriverId(value){\n    this.setState(state => (state.rental.second_driverId = value *1, state))\n    this.onChange();\n  }\n  setDateBegin(value){\n    this.state.rental.date_begin = value\n    this.setState({rental:this.state.rental})\n    this.onChange();\n  }\n\n  setDateEnd(value){\n    this.state.rental.date_end = value\n    this.setState({rental:this.state.rental})\n    this.onChange();\n  }\n\n  onChange(){\n    if(this.props.onChange)\n      this.props.onChange(this.state.rental)\n  }\n  render () {\n    const {rental, show_password} = this.state\n    return (\n       <Form onSubmit={(event)=>{\n                if(this.props.onSubmit)\n                  this.props.onSubmit(event)\n              }} >\n          <Form.Group controlId=\"formBasicEmail\">\n            <Form.Label>Client:</Form.Label>\n            <CustomerSelectInput  selectedId={rental.customerId}  onChange={(selectedId)=>this.setCustomerId(selectedId)} />\n          </Form.Group>\n          <Form.Group controlId=\"formBasicEmail\">\n            <Form.Label>Véhicule:</Form.Label>\n            <CarSelectInput  selectedId={rental.carId}  onChange={(selectedId)=>this.setCarId(selectedId)} />\n          </Form.Group>\n          <Form.Group controlId=\"formBasicEmail\">\n            <Form.Label>Deuxiéme conducteur:</Form.Label>\n            <CustomerSelectInput  selectedId={rental.second_driverId}  onChange={(selectedId)=>this.setSecondDriverId(selectedId)} />\n          </Form.Group>\n          <Form.Group controlId=\"formBasicEmail\">\n            <Form.Label>Date de début:</Form.Label><br/>\n            <DatePicker\n              selected={Date.parse(moment(rental.date_begin).toDate())}\n              onChange={date => this.setDateBegin(date)}\n              isClearable\n              dateFormat=\"d/MM/yyyy\"\n              placeholderText=\"Date début\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"formBasicEmail\">\n            <Form.Label>Date de fin:</Form.Label><br/>\n            <DatePicker\n              selected={Date.parse(moment(rental.date_end).toDate())}\n              onChange={date => this.setDateEnd(date)}\n              isClearable\n              dateFormat=\"d/MM/yyyy\"\n              placeholderText=\"Date début\"\n            />\n          </Form.Group>\n          <div className=\"text-right\" style={{margin:10}}>\n                <Button   variant=\"primary\" type=\"submit\">\n                  Enregistrer\n                </Button>\n          </div>\n       </Form>\n    )\n  }\n}\n\nconst styles ={\n  btnXs:{\n    padding: \".25rem .4rem\",\n    fontSize: \".875rem\",\n    lineHeight: 0.5,\n    borderRadius: \".2rem\"\n  }\n}\n\nexport default RentalForm;\n"]},"metadata":{},"sourceType":"module"}